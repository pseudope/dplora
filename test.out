INFO:root:num_clients:	2
num_rounds:	3
lora_r:	64
client_epochs:	1
teacher_pretrain_epochs:	1
kd_epochs:	1
teacher_ckpt:	bert-base-uncased
client_ckpt:	distilbert-base-uncased
teacher_data_pct:	33
client_lr:	5e-05
distill_lr:	5e-05
lda:	0.1
gamma:	0.95
rank:	0
local_r:	0
data_path:	glue
data_name:	sst2
device:	0
mode:	dplora
projection_type:	type of projection for pd lora
[92mINFO [0m:      Starting Flower server, config: num_rounds=3, no round_timeout
INFO:flwr:Starting Flower server, config: num_rounds=3, no round_timeout
[92mINFO [0m:      Flower ECE: gRPC server running (3 rounds), SSL is disabled
INFO:flwr:Flower ECE: gRPC server running (3 rounds), SSL is disabled
[92mINFO [0m:      [INIT]
INFO:flwr:[INIT]
[92mINFO [0m:      Requesting initial parameters from one random client
INFO:flwr:Requesting initial parameters from one random client
[92mINFO [0m:      Sampling failed: number of available clients (0) is less than number of requested clients (1).
INFO:flwr:Sampling failed: number of available clients (0) is less than number of requested clients (1).
Traceback (most recent call last):
  File "/home/kjb/lora/dplora/server.py", line 34, in <module>
    history = fl.server.start_server(
  File "/home/kjb/.conda/envs/lora/lib/python3.9/site-packages/flwr/server/app.py", line 171, in start_server
    hist = run_fl(
  File "/home/kjb/.conda/envs/lora/lib/python3.9/site-packages/flwr/server/server.py", line 483, in run_fl
    hist, elapsed_time = server.fit(
  File "/home/kjb/.conda/envs/lora/lib/python3.9/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/home/kjb/.conda/envs/lora/lib/python3.9/site-packages/flwr/server/server.py", line 280, in _get_initial_parameters
    random_client = self._client_manager.sample(1)[0]
IndexError: list index out of range
curacy of client i is 0.8497706422018348
[92mINFO [0m:      
INFO:flwr:
[92mINFO [0m:      [ROUND 2]
INFO:flwr:[ROUND 2]
[92mINFO [0m:      configure_fit: strategy sampled 2 clients (out of 2)
INFO:flwr:configure_fit: strategy sampled 2 clients (out of 2)
[92mINFO [0m:      aggregate_fit: received 2 results and 0 failures
INFO:flwr:aggregate_fit: received 2 results and 0 failures
[92mINFO [0m:      configure_evaluate: strategy sampled 2 clients (out of 2)
INFO:flwr:configure_evaluate: strategy sampled 2 clients (out of 2)
[92mINFO [0m:      aggregate_evaluate: received 2 results and 0 failures
INFO:flwr:aggregate_evaluate: received 2 results and 0 failures
accuracy of client i is 0.8681192660550459
accuracy of client i is 0.8681192660550459
[92mINFO [0m:      
INFO:flwr:
[92mINFO [0m:      [ROUND 3]
INFO:flwr:[ROUND 3]
[92mINFO [0m:      configure_fit: strategy sampled 2 clients (out of 2)
INFO:flwr:configure_fit: strategy sampled 2 clients (out of 2)
[92mINFO [0m:      aggregate_fit: received 2 results and 0 failures
INFO:flwr:aggregate_fit: received 2 results and 0 failures
[92mINFO [0m:      configure_evaluate: strategy sampled 2 clients (out of 2)
INFO:flwr:configure_evaluate: strategy sampled 2 clients (out of 2)
[92mINFO [0m:      aggregate_evaluate: received 2 results and 0 failures
INFO:flwr:aggregate_evaluate: received 2 results and 0 failures
accuracy of client i is 0.8795871559633027
accuracy of client i is 0.8795871559633027
[92mINFO [0m:      
INFO:flwr:
[92mINFO [0m:      [SUMMARY]
INFO:flwr:[SUMMARY]
[92mINFO [0m:      Run finished 3 rounds in 64.25s
INFO:flwr:Run finished 3 rounds in 64.25s
[92mINFO [0m:      History (loss, distributed):
INFO:flwr:History (loss, distributed):
[92mINFO [0m:      	('\tround 1: 0.010429601185023785\n'
INFO:flwr:	('\tround 1: 0.010429601185023785\n'
[92mINFO [0m:      	 '\tround 2: 0.009500579908490181\n'
INFO:flwr:	 '\tround 2: 0.009500579908490181\n'
[92mINFO [0m:      	 '\tround 3: 0.00902485754340887\n')History (metrics, distributed, evaluate):
INFO:flwr:	 '\tround 3: 0.00902485754340887\n')History (metrics, distributed, evaluate):
[92mINFO [0m:      	{'accuracy': [(1, 0.8497706422018348),
INFO:flwr:	{'accuracy': [(1, 0.8497706422018348),
[92mINFO [0m:      	              (2, 0.8681192660550459),
INFO:flwr:	              (2, 0.8681192660550459),
[92mINFO [0m:      	              (3, 0.8795871559633027)]}
INFO:flwr:	              (3, 0.8795871559633027)]}
[92mINFO [0m:      
INFO:flwr:
INFO:root:Saved run to results/2024-07-20_22-39-18.json
